[TestMethod]
        public async Task Should_Display_SameLotoWarningMessage_When_AEIsAlreadySignedIntoSameLoto()
        {
            int currentLotoId = 11;
            int lotoId = 11;
            int bemsId = 2732768;
            string aeName = "John Doe";

            var lotoDetail = new Shield.Ui.App.Models.LotoModels.Loto
            {
                Id = lotoId,
                Model = "747",
                LineNumber = "Line-1234",
                WorkPackage = "WP-456",
                Site = "BDS Puget Sound"
            };

            _mockLotoService.Setup(s => s.GetLotoDetail(lotoId)).ReturnsAsync(lotoDetail);

            HttpResponseMessage response = await _client.PostAsync($"Loto/GetAEWarningPartial?currentLotoId={currentLotoId}&lotoId={lotoId}&bemsId={bemsId}&aeName={aeName}", null);

            string output = await response.Content.ReadAsStringAsync();
            Console.WriteLine(output);
            IHtmlDocument htmlDocument = _parser.ParseDocument(output);

            IHtmlCollection<IElement> warningCards = htmlDocument.GetElementsByClassName("ae-warning-card");
            Assert.AreEqual(1, warningCards.Length);

            IElement warningCard = warningCards[0];
            IHtmlCollection<IElement> cardTitles = warningCard.GetElementsByClassName("card-title");
            Assert.AreEqual(1, cardTitles.Length);
            Assert.AreEqual("Warning", cardTitles[0].TextContent.Trim());

            IHtmlCollection<IElement> paragraphs = warningCard.GetElementsByTagName("p");
            Assert.AreEqual(1, paragraphs.Length);

            string warningText = paragraphs[0].TextContent.Trim();
            Assert.AreEqual("John Doe is already signed into this LOTO.", warningText);
        }

        [TestMethod]
        public async Task Should_Display_DifferentLotoWarningMessage_When_AEIsSignedIntoDifferentLoto()
        {

            int currentLotoId = 5;
            int lotoId = 11;
            int bemsId = 2732768;
            string aeName = "John Doe";

            var lotoDetail = new Shield.Ui.App.Models.LotoModels.Loto
            {
                Id = lotoId,
                Model = "747",
                LineNumber = "Line-1234",
                WorkPackage = "WP-456",
                Site = "BDS Puget Sound"
            };

            _mockLotoService.Setup(s => s.GetLotoDetail(lotoId)).ReturnsAsync(lotoDetail);

            HttpResponseMessage response = await _client.PostAsync($"Loto/GetAEWarningPartial?currentLotoId={currentLotoId}&lotoId={lotoId}&bemsId={bemsId}&aeName={aeName}", null);

            string output = await response.Content.ReadAsStringAsync();
            IHtmlDocument htmlDocument = _parser.ParseDocument(output);

            IHtmlCollection<IElement> warningCards = htmlDocument.GetElementsByClassName("ae-warning-card");
            Assert.AreEqual(1, warningCards.Length);

            IElement warningCard = warningCards[0];
            IHtmlCollection<IElement> cardTitles = warningCard.GetElementsByClassName("card-title");
            Assert.AreEqual(1, cardTitles.Length);
            Assert.AreEqual("Warning", cardTitles[0].TextContent.Trim());

            IHtmlCollection<IElement> paragraphs = warningCard.GetElementsByTagName("p");
            Assert.AreEqual(1, paragraphs.Length);

            string warningText = paragraphs[0].TextContent.Trim();
            Assert.AreEqual("John Doe is already signed in the LOTO WP-456 at BDS Puget Sound on 747 in Line Line-1234.",warningText);

            IHtmlCollection<IElement> links = paragraphs[0].GetElementsByTagName("a");
            Assert.AreEqual(1, links.Length);
            Assert.AreEqual($"/Loto/LotoDetail?id={lotoId}", links[0].GetAttribute("href"));
        }
